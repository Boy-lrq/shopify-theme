{% comment %} 模板文件: templates/cart.liquid {% endcomment %}
{% layout 'theme' %}

{% comment %} 静态数据定义（兼容写法） {% endcomment %}
{% assign items = "" | split: "," %}
{% capture item1 %}
{
  "id": 1,
  "name": "男士运动鞋",
  "price": 29900,
  "quantity": 2,
  "specs": "黑色/42码",
  "image": "https://example.com/shoes.jpg"
}
{% endcapture %}
{% assign items = items | push: item1 %}

{% capture item2 %}
{
  "id": 2,
  "name": "无线蓝牙耳机",
  "price": 19900,
  "quantity": 1,
  "specs": "白色/降噪版",
  "image": "https://example.com/earphones.jpg"
}
{% endcapture %}
{% assign items = items | push: item2 %}

{% assign selected_ids = "1,2" | split: "," %}
{% assign coupon_amount = 3000 %}
{% assign subtotal = 79700 %}
{% assign total = subtotal | minus: coupon_amount %}

<div class="min-h-screen bg-gray-50">
  <!-- 保持原有结构不变 -->
  <!-- ... -->

  <main class="max-w-7xl mx-auto px-4 py-6">
    <div class="flex gap-6">
      <div class="flex-1 bg-white p-6 rounded-lg shadow-sm">
        {% if items.size > 0 %}
          <!-- ... -->
        {% endif %}

        {% if items.size == 0 %}
          <!-- ... -->
        {% else %}
          {% for item_string in items %}
            {% assign item = item_string | strip | parse_json %}
            <div class="flex items-center py-4 border-b">
              <input
                type="checkbox"
                {% if selected_ids contains item.id %}checked{% endif %}
                readonly
                class="w-4 h-4 text-orange-500 rounded border-gray-300"
              />
              <img
                src="{{ item.image }}"
                alt="{{ item.name }}"
                class="w-32 h-32 object-cover rounded-lg ml-4"
              />
              <div class="ml-6 flex-1">
                <h3 class="text-lg font-medium">{{ item.name }}</h3>
                <p class="text-gray-500 mt-1">{{ item.specs }}</p>
                <div class="flex items-center mt-4">
                  <span class="text-xl font-bold text-orange-500">
                    ¥{{ item.price | divided_by: 100 }}
                  </span>
                  <div class="ml-8 flex items-center border rounded-lg">
                    <span class="px-4">{{ item.quantity }}</span>
                  </div>
                </div>
              </div>
              <!-- ... -->
            </div>
          {% endfor %}
        {% endif %}
      </div>
      <!-- ... -->
    </div>
  </main>
</div>